<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>لعبة قتال متعددة اللاعبين</title>
    <style>
        #gameCanvas {
            border: 1px solid black;
        }
        .controls {
            display: none;
        }
    </style>
</head>
<body>
    <h1>اختر شخصية لكل لاعب</h1>

    <!-- قائمة اختيار الشخصية للاعب 1 -->
    <div>
        <h2>اللاعب 1:</h2>
        <button onclick="selectCharacter(1, 'character1')">شخصية 1</button>
        <button onclick="selectCharacter(1, 'character2')">شخصية 2</button>
    </div>

    <!-- قائمة اختيار الشخصية للاعب 2 -->
    <div>
        <h2>اللاعب 2:</h2>
        <button onclick="selectCharacter(2, 'character1')">شخصية 1</button>
        <button onclick="selectCharacter(2, 'character2')">شخصية 2</button>
    </div>

    <!-- عرض التحكم لكل لاعب -->
    <div id="controlsPlayer1" class="controls">
        <h3>تحكم اللاعب 1:</h3>
        <p>استخدم الأسهم للتحرك والمسافة لإطلاق النار</p>
    </div>

    <div id="controlsPlayer2" class="controls">
        <h3>تحكم اللاعب 2:</h3>
        <p>استخدم W,A,S,D للتحرك وF لإطلاق النار</p>
    </div>

    <canvas id="gameCanvas" width="800" height="600"></canvas>

    <script>
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');

        let player1 = null;
        let player2 = null;

        const players = {
            player1: { x: 100, y: 100, width: 50, height: 50, color: 'blue', speed: 5 },
            player2: { x: 600, y: 100, width: 50, height: 50, color: 'red', speed: 5 }
        };

        function selectCharacter(player, character) {
            if (player === 1) {
                player1 = players[character];
                document.getElementById('controlsPlayer1').style.display = 'block';
            } else if (player === 2) {
                player2 = players[character];
                document.getElementById('controlsPlayer2').style.display = 'block';
            }

            if (player1 && player2) {
                startGame();
            }
        }

        function drawPlayer(player) {
            ctx.fillStyle = player.color;
            ctx.fillRect(player.x, player.y, player.width, player.height);
        }

        function startGame() {
            document.addEventListener('keydown', movePlayers);
            update();
        }

        function movePlayers(e) {
            if (e.key === 'ArrowUp') player1.y -= player1.speed;
            if (e.key === 'ArrowDown') player1.y += player1.speed;
            if (e.key === 'ArrowLeft') player1.x -= player1.speed;
            if (e.key === 'ArrowRight') player1.x += player1.speed;

            if (e.key === 'w') player2.y -= player2.speed;
            if (e.key === 's') player2.y += player2.speed;
            if (e.key === 'a') player2.x -= player2.speed;
            if (e.key === 'd') player2.x += player2.speed;
        }

        function update() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            if (player1) drawPlayer(player1);
            if (player2) drawPlayer(player2);
            requestAnimationFrame(update);
        }
    </script>
</body>
</html>
